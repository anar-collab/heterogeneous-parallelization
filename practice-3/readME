Контрольные вопросы (Assignment: CUDA-сортировки)
1. В чем различие между последовательной и параллельной реализациями сортировки слиянием?

В последовательной реализации сортировки слиянием массив рекурсивно делится на две части, которые сортируются одна за другой в одном потоке. Все этапы — разбиение, сортировка и слияние — выполняются последовательно.

В параллельной реализации разные части массива могут обрабатываться одновременно. Например, на GPU каждый блок потоков сортирует свой подмассив, после чего выполняется параллельное слияние. Это позволяет сократить общее время выполнения за счёт одновременной обработки данных, особенно для больших массивов.

2. Как распределение потоков и блоков влияет на производительность на CUDA?

Распределение потоков и блоков напрямую влияет на то, насколько эффективно используется GPU. Если блоки слишком маленькие, часть вычислительных ресурсов простаивает. Если слишком большие — возрастает нагрузка на память и уменьшается параллелизм.

Оптимальное распределение позволяет:

максимально загрузить вычислительные ядра GPU;

скрыть задержки доступа к глобальной памяти;

сократить время выполнения за счёт параллельной обработки.

3. Какие сложности возникают при реализации быстрой сортировки на GPU?

Основная сложность быстрой сортировки на GPU связана с этапом разбиения массива по опорному элементу. Этот этап требует:

синхронизации потоков;

перераспределения элементов;

дополнительных операций записи в память.

Кроме того, быстрая сортировка является нерегулярным алгоритмом: размеры подмассивов после разбиения непредсказуемы, что плохо сочетается с SIMD-архитектурой GPU.

4. В каких случаях параллельная реализация сортировки на GPU может быть менее эффективной, чем на CPU?

Параллельная сортировка на GPU может работать хуже, если:

размер массива небольшой;

накладные расходы на копирование данных между CPU и GPU превышают выигрыш;

алгоритм содержит много ветвлений и синхронизаций;

используется неоптимальный размер блоков или потоков.

В таких случаях CPU с хорошей кэш-иерархией и низкими накладными расходами может быть быстрее.

5. Почему важно правильно выбирать размер блоков и потоков в CUDA?

Размер блоков и потоков влияет на:

степень параллелизма;

использование регистров и разделяемой памяти;

количество одновременно выполняемых потоков (occupancy).

Неправильный выбор может привести к:

недозагрузке GPU;

избыточному потреблению памяти;

падению производительности.

Поэтому размер блока обычно подбирается с учётом архитектуры конкретного GPU.

6. Как использование разделяемой памяти может повлиять на производительность сортировки?

Разделяемая память значительно быстрее глобальной памяти GPU. Если данные сортировки помещаются в разделяемую память:

уменьшается количество обращений к глобальной памяти;

ускоряются операции сравнения и обмена;

снижается общая задержка выполнения.

Однако разделяемая память ограничена по объёму, поэтому её нужно использовать аккуратно.

7. Что означает принцип "разделяй и властвуй" в контексте алгоритмов сортировки?

Принцип «разделяй и властвуй» означает:

Разделить задачу на несколько меньших подзадач.

Решить каждую подзадачу независимо.

Объединить полученные результаты.

В сортировках (merge sort, quick sort) это выражается в разбиении массива на подмассивы, их сортировке и последующем объединении. Этот подход хорошо подходит для параллельных вычислений, так как подзадачи можно выполнять одновременно.
